---
import type { Tema } from '../data/types';

interface Props {
  tema: Tema;
  asignaturaId: string;
  numPreguntas?: number;
}

const { tema, asignaturaId, numPreguntas } = Astro.props;
const href = `/quiz/${asignaturaId}/${tema.id}`;
---

<a 
  href={href}
  class="group bg-slate-800/50 hover:bg-slate-800 rounded-xl p-6 border border-slate-700 hover:border-slate-600 transition-all duration-300 hover:scale-105"
>
  <div class="flex items-start gap-4 mb-4">
    <span class="text-4xl group-hover:scale-110 transition-transform">{tema.icono}</span>
    <div class="flex-1">
      <h3 class={`text-xl font-bold bg-gradient-to-r ${tema.color} bg-clip-text text-transparent mb-2`}>
        {tema.titulo}
      </h3>
      <p class="text-slate-400 text-sm leading-relaxed">{tema.descripcion}</p>
    </div>
  </div>
  
  <div class="flex flex-wrap gap-2 mb-4">
    {tema.temas.slice(0, 4).map(contenido => (
      <span class="px-2 py-1 bg-slate-700/50 rounded text-xs text-slate-300">
        {contenido}
      </span>
    ))}
    {tema.temas.length > 4 && (
      <span class="px-2 py-1 bg-slate-700/50 rounded text-xs text-slate-400">
        +{tema.temas.length - 4} más
      </span>
    )}
  </div>
  
  <div class="flex items-center justify-between text-sm">
    {numPreguntas !== undefined && (
      <span class="text-slate-400">
        ❓ <strong class="text-white">{numPreguntas}</strong> {numPreguntas === 1 ? 'pregunta' : 'preguntas'}
      </span>
    )}
    <span class="text-slate-500 group-hover:text-slate-300 transition-colors ml-auto">
      Comenzar →
    </span>
  </div>
</a>
